# Telegram-–±–æ—Ç—ã —Å –ø–∞–º—è—Ç—å—é

–¢—Ä–∏ Telegram-–±–æ—Ç–∞ –Ω–∞ aiogram 3.x —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –ø–∞–º—è—Ç–∏:

1. **bot_short_memory.py** - –ö–æ—Ä–æ—Ç–∫–∞—è –ø–∞–º—è—Ç—å (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–∫–µ)
2. **bot_long_memory.py** - –î–æ–ª–≥–∞—è –ø–∞–º—è—Ç—å (–¥–æ–∫—É–º–µ–Ω—Ç—ã + –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ ChromaDB)
3. **bot_hybrid_memory.py** - –ì–∏–±—Ä–∏–¥–Ω–∞—è –ø–∞–º—è—Ç—å (–∫–æ—Ä–æ—Ç–∫–∞—è + –¥–æ–ª–≥–∞—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ) ‚≠ê **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**

## ü§ñ –ë–æ—Ç —Å –∫–æ—Ä–æ—Ç–∫–æ–π –ø–∞–º—è—Ç—å—é (bot_short_memory.py)

–ü—Ä–æ—Å—Ç–æ–π –±–æ—Ç –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- üí¨ –ó–∞–ø–æ–º–∏–Ω–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å–æ–æ–±—â–µ–Ω–∏–π –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ü§ñ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π OpenAI (gpt-5-mini, gpt-4o-mini, gpt-3.5-turbo, gpt-4o –∏ –¥—Ä.)
- ‚ö° –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- üìù –ü–∞–º—è—Ç—å —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ (dict)

**–ö–æ–º–∞–Ω–¥—ã:**
- `/start` - –ù–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥
- `/clear` - –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
- `/settings` - –ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- `/help` - –°–ø—Ä–∞–≤–∫–∞

## üß† –ë–æ—Ç —Å –¥–æ–ª–≥–æ–π –ø–∞–º—è—Ç—å—é (bot_long_memory.py)

RAG-–±–æ—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ —á–µ—Ä–µ–∑ –≤–µ–∫—Ç–æ—Ä–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- üìÑ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PDF, TXT, DOCX –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- üîç –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º (ChromaDB)
- üßÆ –í–µ–∫—Ç–æ—Ä–Ω—ã–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ (text-embedding-3-small)
- üíæ –î–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- üéØ –¢–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —á–∞–Ω–∫–∏ (~500 —Å–∏–º–≤–æ–ª–æ–≤)

**–ö–æ–º–∞–Ω–¥—ã:**
- `/start` - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É
- `/status` - –°—Ç–∞—Ç—É—Å –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
- `/clear` - –û—á–∏—Å—Ç–∏—Ç—å –±–∞–∑—É –∑–Ω–∞–Ω–∏–π
- `/help` - –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞

## üé≠ –ë–æ—Ç —Å –≥–∏–±—Ä–∏–¥–Ω–æ–π –ø–∞–º—è—Ç—å—é (bot_hybrid_memory.py) ‚≠ê

–û–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ–±–æ–∏—Ö –±–æ—Ç–æ–≤ ‚Äî –ª—É—á—à–∏–π –≤—ã–±–æ—Ä –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∑–∞–¥–∞—á!

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- üí≠ –ö–æ—Ä–æ—Ç–∫–∞—è –ø–∞–º—è—Ç—å: –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å–æ–æ–±—â–µ–Ω–∏–π –¥–∏–∞–ª–æ–≥–∞
- üìö –î–æ–ª–≥–∞—è –ø–∞–º—è—Ç—å: –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ ChromaDB (PDF, TXT, DOCX)
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- üéØ –£–º–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: –¥–æ–∫—É–º–µ–Ω—Ç—ã + –∏—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞ + —Ç–µ–∑–∏—Å—ã –∏–∑ –ë–î
- üìã **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç**: JSON —Å —Ç–µ–∑–∏—Å–∞–º–∏ –¥–∏–∞–ª–æ–≥–∞ –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ–º (—Ç–µ–∑–∏—Å—ã ‚Äî –≤ –∫–æ–Ω—Å–æ–ª—å –∏ –≤ SQLite)
- üé≠ **5 —Ä–æ–ª–µ–π –ø–æ–≤–µ–¥–µ–Ω–∏—è**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫, –ù–∞—É—á–Ω—ã–π, –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π, –ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π, –õ–∞–∫–æ–Ω–∏—á–Ω—ã–π
- ‚å®Ô∏è **–ú–µ–Ω—é**: —Å–µ—Ç–∫–∞ –∫–Ω–æ–ø–æ–∫ –Ω–∞–¥ –ø–æ–ª–µ–º –≤–≤–æ–¥–∞ + –∫–æ–º–∞–Ω–¥—ã –≤ –º–µ–Ω—é –±–æ—Ç–∞
- üìÑ **memory.json**: –≤ —Ñ–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–∞—à–∏ –∑–∞–ø—Ä–æ—Å—ã (—Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ —Å—Ç—Ä–æ–∫–∏ –≤–≤–æ–¥–∞)

**–ö–æ–º–∞–Ω–¥—ã –∏ –º–µ–Ω—é:**
- `/start` ‚Äî –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É-–º–µ–Ω—é)
- `/role` ‚Äî –ú–æ–¥–µ–ª—å –ø–æ–≤–µ–¥–µ–Ω–∏—è (–≤—ã–±–æ—Ä –æ–¥–Ω–æ–π –∏–∑ 5 —Ä–æ–ª–µ–π –ø–æ –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∞–º)
- `/status` ‚Äî –°—Ç–∞—Ç—É—Å –ø–∞–º—è—Ç–∏
- `/clear_chat` ‚Äî –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞
- `/clear_docs` ‚Äî –£–¥–∞–ª–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã
- `/clear_all` ‚Äî –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë
- `/help` ‚Äî –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≥–∏–±—Ä–∏–¥:**
1. –ë–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ ‚Üí –æ–±—ã—á–Ω—ã–π –¥–∏–∞–ª–æ–≥ —Å –∫–æ—Ä–æ—Ç–∫–æ–π –ø–∞–º—è—Ç—å—é –∏ —Ç–µ–∑–∏—Å–∞–º–∏ –∏–∑ –ë–î
2. –° –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ ‚Üí –ø–æ–∏—Å–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö + –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞ + —Ç–µ–∑–∏—Å—ã
3. –í—ã–±—Ä–∞–Ω–Ω–∞—è —Ä–æ–ª—å –∑–∞–¥–∞—ë—Ç —Å—Ç–∏–ª—å –æ—Ç–≤–µ—Ç–æ–≤ (–Ω–∞—É—á–Ω—ã–π, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π, –∫—Ä–∞—Ç–∫–∏–π –∏ —Ç.–¥.)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç (—Ç–µ–∑–∏—Å—ã + —Å–æ–æ–±—â–µ–Ω–∏–µ):**  
–ú–æ–¥–µ–ª—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON: **theses** (—Ç–µ–∑–∏—Å—ã –æ–±–º–µ–Ω–∞ ‚Äî –≤ –∫–æ–Ω—Å–æ–ª—å –∏ –≤ –ë–î), **message** (—Ç–µ–∫—Å—Ç –≤ —á–∞—Ç). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `beta.chat.completions.parse` –∏ Pydantic-–º–æ–¥–µ–ª—å `DialogueResponse`.

## –û–±—â–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîß –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- üåê –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ProxyAPI –¥–ª—è –æ–±—Ö–æ–¥–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- ‚ö° –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- üìä –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–≥–∏–±—Ä–∏–¥–Ω—ã–π –±–æ—Ç)

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –Ω–∞—á–∞—Ç—å:

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
cd LLM_Memory

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
copy .env-example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env - —É–∫–∞–∂–∏—Ç–µ BOT_TOKEN –∏ OPENAI_API_KEY

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≥–∏–±—Ä–∏–¥–Ω—ã–π –±–æ—Ç
python bot_hybrid_memory.py
```

–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å:
- –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞
- –ó–∞–≥—Ä—É–∑–∏—Ç–µ PDF/TXT/DOCX –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
- –ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã - –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–µ—Ä–µ—Ç –Ω—É–∂–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install -r requirements.txt
```

2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env-example` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
```bash
copy .env-example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ —É–∫–∞–∂–∏—Ç–µ:
- `BOT_TOKEN` - —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ Telegram-–±–æ—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `OPENAI_API_KEY` - –∫–ª—é—á OpenAI –∏–ª–∏ ProxyAPI (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `OPENAI_BASE_URL` - URL ProxyAPI, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `OPENAI_MODEL` - –º–æ–¥–µ–ª—å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: gpt-5-mini)
- `OPENAI_TEMPERATURE` - –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤ 0.0-1.0 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0.7)
- `OPENAI_MAX_COMPLETION_TOKENS` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 2000)
- `LOG_LEVEL` - —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: INFO)

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤—Ä—É—á–Ω—É—é):

**Windows (PowerShell):**
```powershell
$env:BOT_TOKEN="–≤–∞—à_telegram_bot_token"
$env:OPENAI_API_KEY="–≤–∞—à_openai_api_key"
```

**Linux/macOS:**
```bash
export BOT_TOKEN="–≤–∞—à_telegram_bot_token"
export OPENAI_API_KEY="–≤–∞—à_openai_api_key"
```

## –ó–∞–ø—É—Å–∫

–í—Å–µ –±–æ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞ `.env`:

**–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ —Å –∫–æ—Ä–æ—Ç–∫–æ–π –ø–∞–º—è—Ç—å—é:**
```bash
python bot_short_memory.py
```

**–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ —Å –¥–æ–ª–≥–æ–π –ø–∞–º—è—Ç—å—é:**
```bash
python bot_long_memory.py
```

**–ó–∞–ø—É—Å–∫ –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ –±–æ—Ç–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
```bash
python bot_hybrid_memory.py
```

## –ö–∞–∫–æ–π –±–æ—Ç –≤—ã–±—Ä–∞—Ç—å?

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –ö–æ—Ä–æ—Ç–∫–∞—è –ø–∞–º—è—Ç—å | –î–æ–ª–≥–∞—è –ø–∞–º—è—Ç—å | –ì–∏–±—Ä–∏–¥–Ω–∞—è –ø–∞–º—è—Ç—å ‚≠ê |
|----------|----------------|---------------|-------------------|
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** | –û–±—ã—á–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ | –†–∞–±–æ—Ç–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π |
| **–ö–æ–Ω—Ç–µ–∫—Å—Ç** | 10 —Å–æ–æ–±—â–µ–Ω–∏–π | –î–æ–∫—É–º–µ–Ω—Ç—ã | –û–±–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ |
| **–•—Ä–∞–Ω–µ–Ω–∏–µ** | –û–ø–µ—Ä–∞—Ç–∏–≤–∫–∞ | ChromaDB | –û–±–∞ —Ç–∏–ø–∞ |
| **–ü–æ–∏—Å–∫** | –õ–∏–Ω–µ–π–Ω—ã–π | –í–µ–∫—Ç–æ—Ä–Ω—ã–π | –í–µ–∫—Ç–æ—Ä–Ω—ã–π + –∏—Å—Ç–æ—Ä–∏—è |
| **–§–∞–π–ª—ã** | ‚ùå –ù–µ—Ç | ‚úÖ PDF/TXT/DOCX | ‚úÖ PDF/TXT/DOCX |
| **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫** | ‚ö†Ô∏è –¢–µ—Ä—è–µ—Ç—Å—è | ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è | ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | ‚ö° –ë—ã—Å—Ç—Ä—ã–π | üê¢ –ú–µ–¥–ª–µ–Ω–Ω–µ–µ | üê¢ –ú–µ–¥–ª–µ–Ω–Ω–µ–µ |
| **–°—Ç–æ–∏–º–æ—Å—Ç—å** | üí∞ –î–µ—à–µ–≤–ª–µ | üí∞üí∞ –î–æ—Ä–æ–∂–µ | üí∞üí∞ –î–æ—Ä–æ–∂–µ |
| **–ì–∏–±–∫–æ—Å—Ç—å** | ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ | ‚ùå –¢–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç—ã | ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è |

**üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- **–ù–∞—á–∏–Ω–∞—é—â–∏–º:** `bot_hybrid_memory.py` - —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- **–¢–æ–ª—å–∫–æ —á–∞—Ç:** `bot_short_memory.py` - –ø—Ä–æ—Å—Ç–æ–π –∏ –±—ã—Å—Ç—Ä—ã–π
- **–¢–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç—ã:** `bot_long_memory.py` - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π

## –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω—ã

### Telegram Bot Token

1. –ù–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
4. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –≤–∏–¥–∞ `1234567890:ABCdefGHIjklMNOpqrsTUVwxyz`

### ProxyAPI Key

–ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á —É –≤–∞—à–µ–≥–æ proxyAPI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, openrouter.ai, proxyapi.ru –∏ —Ç.–¥.)

–ö–ª—é—á –æ–±—ã—á–Ω–æ –∏–º–µ–µ—Ç —Ñ–æ—Ä–º–∞—Ç `sk-...` –∏–ª–∏ `sk-proj-...`

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Ñ–∞–π–ª `.env`. –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|----------|----------|--------|
| `BOT_TOKEN` | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ –æ—Ç @BotFather | `1234567890:ABC...` |
| `OPENAI_API_KEY` | API –∫–ª—é—á OpenAI –∏–ª–∏ ProxyAPI | `sk-proj-...` |

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –ü—Ä–∏–º–µ—Ä—ã |
|----------|----------|----------------------|---------|
| `OPENAI_BASE_URL` | URL ProxyAPI —Å–µ—Ä–≤–∏—Å–∞ | *(–ø—É—Å—Ç–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è api.openai.com)* | `https://api.proxyapi.ru/openai/v1` |
| `OPENAI_MODEL` | –ú–æ–¥–µ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤ | `gpt-5-mini` | `gpt-4o-mini`, `gpt-3.5-turbo`, `gpt-4o`, `gpt-4-turbo` |
| `OPENAI_TEMPERATURE` | –ö—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å (0.0 = –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ, 1.0 = –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ)<br>*–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å gpt-5-mini* | `0.7` | `0.0` - `1.0` |
| `OPENAI_MAX_COMPLETION_TOKENS` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞ (–¥–ª—è –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π) | `2000` | `500`, `1000`, `4000` |
| `LOG_LEVEL` | –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è | `INFO` | `DEBUG`, `WARNING`, `ERROR` |

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π OpenAI:**
```env
OPENAI_API_KEY=sk-proj-xxxxx
OPENAI_MODEL=gpt-5-mini
```

**–° ProxyAPI:**
```env
OPENAI_API_KEY=–≤–∞—à_–∫–ª—é—á_proxyapi
OPENAI_BASE_URL=https://api.proxyapi.ru/openai/v1
OPENAI_MODEL=gpt-5-mini
```

**–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å:**
```env
OPENAI_TEMPERATURE=0.9
OPENAI_MAX_COMPLETION_TOKENS=3000
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
LLM_Memory/
‚îú‚îÄ‚îÄ bot_short_memory.py   # –ë–æ—Ç —Å –∫–æ—Ä–æ—Ç–∫–æ–π –ø–∞–º—è—Ç—å—é (–¥–∏–∞–ª–æ–≥–∏)
‚îú‚îÄ‚îÄ bot_long_memory.py    # –ë–æ—Ç —Å –¥–æ–ª–≥–æ–π –ø–∞–º—è—Ç—å—é (–¥–æ–∫—É–º–µ–Ω—Ç—ã + RAG)
‚îú‚îÄ‚îÄ bot_hybrid_memory.py  # –ì–∏–±—Ä–∏–¥–Ω—ã–π –±–æ—Ç (–∫–æ—Ä–æ—Ç–∫–∞—è + –¥–æ–ª–≥–∞—è + —Ä–æ–ª–∏) ‚≠ê
‚îú‚îÄ‚îÄ database.py           # SQLite: —Ç–µ–∑–∏—Å—ã –∏ –∑–∞–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–≥–∏–±—Ä–∏–¥–Ω—ã–π –±–æ—Ç)
‚îú‚îÄ‚îÄ requirements.txt      # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –≤—Å–µ—Ö –±–æ—Ç–æ–≤
‚îú‚îÄ‚îÄ .env-example          # –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .env                  # –í–∞—à —Ñ–∞–π–ª —Å —Ç–æ–∫–µ–Ω–∞–º–∏ (—Å–æ–∑–¥–∞–π—Ç–µ!)
‚îú‚îÄ‚îÄ .gitignore            # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã (–∑–∞—â–∏—Ç–∞ .env)
‚îú‚îÄ‚îÄ memory/               # –î–∞–Ω–Ω—ã–µ –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ –±–æ—Ç–∞ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ database.db       # SQLite: —Ç–µ–∑–∏—Å—ã (user_<id>), –∑–∞–ø—Ä–æ—Å—ã (user_requests)
‚îÇ   ‚îú‚îÄ‚îÄ memory.json       # –¢–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ç–µ–∫—Å—Ç –∏–∑ —Å—Ç—Ä–æ–∫–∏ –≤–≤–æ–¥–∞)
‚îÇ   ‚îî‚îÄ‚îÄ ...               # ChromaDB (–¥–æ–∫—É–º–µ–Ω—Ç—ã, —ç–º–±–µ–¥–¥–∏–Ω–≥–∏)
‚îî‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ë–æ—Ç —Å –∫–æ—Ä–æ—Ç–∫–æ–π –ø–∞–º—è—Ç—å—é
- **–†–∞–∑–º–µ—Ä –∏—Å—Ç–æ—Ä–∏–∏**: 10 —Å–æ–æ–±—â–µ–Ω–∏–π (5 –ø–∞—Ä –≤–æ–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç)
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ**: Python dict —Å deque –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ú–æ–¥–µ–ª—å**: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ OPENAI_MODEL (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é gpt-5-mini)

### –ë–æ—Ç —Å –¥–æ–ª–≥–æ–π –ø–∞–º—è—Ç—å—é
- **–†–∞–∑–º–µ—Ä —á–∞–Ω–∫–∞**: 500 —Å–∏–º–≤–æ–ª–æ–≤ —Å –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ–º 50 —Å–∏–º–≤–æ–ª–æ–≤
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ**: ChromaDB (persistent storage)
- **–≠–º–±–µ–¥–¥–∏–Ω–≥–∏**: text-embedding-3-small (1536 –∏–∑–º–µ—Ä–µ–Ω–∏–π)
- **–ú–æ–¥–µ–ª—å –æ—Ç–≤–µ—Ç–∞**: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ OPENAI_MODEL
- **–ü–æ–∏—Å–∫**: Top-3 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞
- **–§–æ—Ä–º–∞—Ç—ã**: PDF (PyPDF2), DOCX (python-docx), TXT

### –ì–∏–±—Ä–∏–¥–Ω—ã–π –±–æ—Ç
- **–ö–æ—Ä–æ—Ç–∫–∞—è –ø–∞–º—è—Ç—å**: 10 —Å–æ–æ–±—â–µ–Ω–∏–π (dict + deque)
- **–î–æ–ª–≥–∞—è –ø–∞–º—è—Ç—å**: ChromaDB —Å —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏
- **SQLite (database.py)**: `memory/database.db` ‚Äî —Ç–∞–±–ª–∏—Ü—ã `user_<user_id>` (—Ç–µ–∑–∏—Å—ã –ø–æ –æ–±–º–µ–Ω–∞–º), —Ç–∞–±–ª–∏—Ü–∞ `user_requests` (–≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Å—Ç—Ä–æ–∫–∏ –≤–≤–æ–¥–∞)
- **memory.json**: —Ç–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`users[user_id].requests` ‚Äî –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫), –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- **–†–æ–ª–∏**: 5 —Å—Ç–∏–ª–µ–π (–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π, –ù–∞—É—á–Ω—ã–π, –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π, –ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π, –õ–∞–∫–æ–Ω–∏—á–Ω—ã–π), –≤—ã–±–æ—Ä —á–µ—Ä–µ–∑ /role –∏ –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏, —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–∫–µ –ø–æ user_id
- **–ú–µ–Ω—é**: ReplyKeyboardMarkup (—Å–µ—Ç–∫–∞ –∫–Ω–æ–ø–æ–∫ –Ω–∞–¥ –ø–æ–ª–µ–º –≤–≤–æ–¥–∞) + set_my_commands (–º–µ–Ω—é –±–æ—Ç–∞)
- **–õ–æ–≥–∏–∫–∞**: –î–æ–∫—É–º–µ–Ω—Ç—ã (–µ—Å–ª–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã) + –∏—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞ + —Ç–µ–∑–∏—Å—ã –∏–∑ –ë–î; —Ä–æ–ª—å –∑–∞–¥–∞—ë—Ç —Ç–æ–Ω –æ—Ç–≤–µ—Ç–∞
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥**: `theses` + `message` —á–µ—Ä–µ–∑ `beta.chat.completions.parse`; —Ç–µ–∑–∏—Å—ã ‚Äî –≤ –ª–æ–≥ –∏ –≤ –ë–î

### –û–±—â–µ–µ
- **API**: OpenAI API –∏–ª–∏ ProxyAPI (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ OPENAI_BASE_URL)
- **Framework**: aiogram 3.x
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**: asyncio + AsyncOpenAI
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ .env —Ñ–∞–π–ª

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ –±–æ—Ç–∞

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –¢–æ–ª—å–∫–æ –¥–∏–∞–ª–æ–≥
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?
–ë–æ—Ç: (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ –∫–æ—Ä–æ—Ç–∫—É—é –ø–∞–º—è—Ç—å - –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ + –≤–æ–ø—Ä–æ—Å—ã
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: [–∑–∞–≥—Ä—É–∂–∞–µ—Ç PDF —Å —Ç–µ—Ö–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π]
–ë–æ—Ç: ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ –¥–æ–ª–≥—É—é –ø–∞–º—è—Ç—å!
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ö–∞–∫–∞—è –≤–µ—Ä—Å–∏—è API –æ–ø–∏—Å–∞–Ω–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ?
–ë–æ—Ç: (–∏—â–µ—Ç –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ —á–µ—Ä–µ–∑ –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ + –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—é)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –°–º–µ—à–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: [—É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω –¥–æ–∫—É–º–µ–Ω—Ç]
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ê —Ç—ã –ø–æ–º–Ω–∏—à—å, —á—Ç–æ —è —Å–ø—Ä–∞—à–∏–≤–∞–ª –≤—á–µ—Ä–∞?
–ë–æ—Ç: (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞, –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã)
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –¢–µ–ø–µ—Ä—å –Ω–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
–ë–æ—Ç: (–∏—â–µ—Ç –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ + —É—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞)
```

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- **–ö–æ—Ä–æ—Ç–∫–∞—è –ø–∞–º—è—Ç—å:** –•—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–∫–µ, —Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
- **–î–æ–ª–≥–∞—è –ø–∞–º—è—Ç—å:** –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ ChromaDB, –æ—Å—Ç–∞—ë—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
- **–ì–∏–±—Ä–∏–¥–Ω—ã–π –±–æ—Ç:** —Ç–µ–∑–∏—Å—ã –∏ –∑–∞–ø—Ä–æ—Å—ã ‚Äî –≤ SQLite (`memory/database.db`), –≤ `memory.json` –ø–∏—à—É—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç—ã –≤–∞—à–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–∑–∞–ø—Ä–æ—Å—ã –∏–∑ —Å—Ç—Ä–æ–∫–∏ –≤–≤–æ–¥–∞)
- –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–∞–º—è—Ç—å –∏ —Å–≤–æ—é –≤—ã–±—Ä–∞–Ω–Ω—É—é —Ä–æ–ª—å
- –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ –∫–æ—Ä–æ—Ç–∫–æ–π –ø–∞–º—è—Ç–∏ (10 —Å–æ–æ–±—â–µ–Ω–∏–π) —Å—Ç–∞—Ä—ã–µ —É–¥–∞–ª—è—é—Ç—Å—è
- –§–∞–π–ª `.env` —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è Git
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ProxyAPI –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤ –†–æ—Å—Å–∏–∏

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ gpt-5-mini

–ú–æ–¥–µ–ª—å **gpt-5-mini** –∏–º–µ–µ—Ç –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ API:

**1. Unsupported parameter: 'max_tokens'**
```
Error: Unsupported parameter: 'max_tokens' is not supported with this model. 
Use 'max_completion_tokens' instead.
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –ë–æ—Ç—ã —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `max_completion_tokens`.

**2. Unsupported value: 'temperature'**
```
Error: Unsupported value: 'temperature' does not support 0.3 with this model. 
Only the default (1) value is supported.
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –ë–æ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç `temperature` –¥–ª—è gpt-5-mini (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1.0).

**–í–∞–∂–Ω–æ:** –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ gpt-5-mini, –ø–∞—Ä–∞–º–µ—Ç—Ä `OPENAI_TEMPERATURE` –≤ `.env` –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

### –û—à–∏–±–∫–∞ "500 Internal Server Error"

–ï—Å–ª–∏ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É 500 –æ—Ç ProxyAPI:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á:**
   ```bash
   # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   # –í —Ñ–∞–π–ª–µ .env –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–æ–¥–µ–ª—å:**
   ```env
   # –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏
   OPENAI_MODEL=gpt-3.5-turbo
   # –∏–ª–∏
   OPENAI_MODEL=gpt-4o-mini
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Base URL:**
   ```env
   # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   OPENAI_BASE_URL=https://api.proxyapi.ru/openai/v1
   # –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ /v1 –≤ –∫–æ–Ω—Ü–µ
   ```

4. **–í–∫–ª—é—á–∏—Ç–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   ```env
   LOG_LEVEL=DEBUG
   ```
   –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏.

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ –≤–∞—à–µ–º –∞–∫–∫–∞—É–Ω—Ç–µ ProxyAPI –µ—Å—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤

6. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ –±–æ—Ç–∞:**
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/status` (–≥–∏–±—Ä–∏–¥–Ω—ã–π –±–æ—Ç) –∏–ª–∏ `/settings` (–∫–æ—Ä–æ—Ç–∫–∞—è –ø–∞–º—è—Ç—å)
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –û—à–∏–±–∫–∞ "Unauthorized" (401)

–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API –∫–ª—é—á. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `OPENAI_API_KEY` –≤ —Ñ–∞–π–ª–µ `.env`.

### –û—à–∏–±–∫–∞ "Model not found" (404)

–ú–æ–¥–µ–ª—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å.

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `BOT_TOKEN` –≤ —Ñ–∞–π–ª–µ `.env`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –≤ Telegram

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–∞–∂–Ω–æ:**
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `.env` –≤ Git
- –ù–µ –¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏ —Å –¥—Ä—É–≥–∏–º–∏ –ª—é–¥—å–º–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.env-example` –∫–∞–∫ —à–∞–±–ª–æ–Ω, –Ω–æ —Ö—Ä–∞–Ω–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã —Ç–æ–ª—å–∫–æ –≤ `.env`
- –§–∞–π–ª `.gitignore` —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –∑–∞—â–∏—Ç—ã `.env`

